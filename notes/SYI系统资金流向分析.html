<!DOCTYPE html><html><head>
      <title>SYIç³»ç»Ÿèµ„é‡‘æµå‘åˆ†æ</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////home/ybeetle/.vscode-server/extensions/shd101wyy.markdown-preview-enhanced-0.8.19/crossnote/dependencies/katex/katex.min.css">
      
      
      <script type="text/javascript" src="file:////home/ybeetle/.vscode-server/extensions/shd101wyy.markdown-preview-enhanced-0.8.19/crossnote/dependencies/mermaid/mermaid.min.js" charset="UTF-8"></script>
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="syi-ç³»ç»Ÿèµ„é‡‘æµå‘åˆ†æ">SYI ç³»ç»Ÿèµ„é‡‘æµå‘åˆ†æ </h1>
<h2 id="ç›®å½•">ç›®å½• </h2>
<ol>
<li><a href="#1-%E4%BA%A4%E6%98%93%E5%9C%BA%E6%99%AF%E8%B5%84%E9%87%91%E6%B5%81%E5%90%91">äº¤æ˜“åœºæ™¯èµ„é‡‘æµå‘</a></li>
<li><a href="#2-%E8%B4%A8%E6%8A%BC%E5%9C%BA%E6%99%AF%E8%B5%84%E9%87%91%E6%B5%81%E5%90%91">è´¨æŠ¼åœºæ™¯èµ„é‡‘æµå‘</a></li>
<li><a href="#3-%E8%A7%A3%E8%B4%A8%E6%8A%BC%E5%9C%BA%E6%99%AF%E8%B5%84%E9%87%91%E6%B5%81%E5%90%91">è§£è´¨æŠ¼åœºæ™¯èµ„é‡‘æµå‘</a></li>
<li><a href="#4-recycle-%E6%9C%BA%E5%88%B6">Recycle æœºåˆ¶</a></li>
<li><a href="#5-%E5%8E%BB%E6%8E%89-swap-%E4%BA%A4%E6%98%93%E8%B4%B9%E5%BD%B1%E5%93%8D%E5%88%86%E6%9E%90">å»æ‰ Swap äº¤æ˜“è´¹å½±å“åˆ†æ</a></li>
</ol>
<hr>
<h2 id="1-äº¤æ˜“åœºæ™¯èµ„é‡‘æµå‘">1. äº¤æ˜“åœºæ™¯èµ„é‡‘æµå‘ </h2>
<h3 id="11-ä¹°å…¥äº¤æ˜“-buy">1.1 ä¹°å…¥äº¤æ˜“ (Buy) </h3>
<div class="mermaid">graph LR
    A[ç”¨æˆ·é’±åŒ…&lt;br/&gt;USDT] --&gt;|é€šè¿‡ DEX| B[æµåŠ¨æ€§æ± &lt;br/&gt;USDT/SYI]
    B --&gt;|æ‰£é™¤ 1% burn| C[é”€æ¯åœ°å€&lt;br/&gt;0xdead]
    B --&gt;|99% å‡€é¢| D[ç”¨æˆ·é’±åŒ…&lt;br/&gt;SYI]

    style A fill:#e1f5ff
    style B fill:#fff3cd
    style C fill:#f8d7da
    style D fill:#d4edda
</div><p><strong>ä»£ç ä½ç½®</strong>: <code>SYIBase.sol:817-848</code></p>
<p><strong>èµ„é‡‘æµå‘è¯¦ç»†</strong>:</p>
<ol>
<li>ç”¨æˆ·åœ¨ DEX ç”¨ USDT è´­ä¹° SYI</li>
<li><strong>æ‰£é™¤è´¹ç”¨</strong>: 1% burn (é”€æ¯åˆ° 0xdead)</li>
<li><strong>ç”¨æˆ·å®å¾—</strong>: 99% SYI</li>
<li><strong>æˆæœ¬è¿½è¸ª</strong>: æ›´æ–° <code>userInvestment[user]</code> è®°å½•è´­ä¹°æˆæœ¬ï¼ˆç”¨äºç›ˆåˆ©ç¨è®¡ç®—ï¼‰</li>
</ol>
<p><strong>å…³é”®å‚æ•°</strong>:</p>
<ul>
<li><code>BUY_BURN_FEE = 100</code> (1%)</li>
<li>å·²ç§»é™¤: <code>BUY_LIQUIDITY_FEE = 200</code> (2%)ï¼Œç°è®¾ä¸º 0</li>
</ul>
<p><strong>ç¤ºä¾‹</strong>:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>ç”¨æˆ·ç”¨ 1000 USDT è´­ä¹° SYI:
â”œâ”€ ä¹°åˆ° SYI æ€»é¢: å‡è®¾ 10,000 SYI (æŒ‰å½“å‰ä»·æ ¼)
â”œâ”€ æ‰£é™¤ 1% burn: 100 SYI â†’ é”€æ¯
â””â”€ ç”¨æˆ·å®å¾—: 9,900 SYI
</code></pre><hr>
<h3 id="12-å–å‡ºäº¤æ˜“-sell">1.2 å–å‡ºäº¤æ˜“ (Sell) </h3>
<div class="mermaid">graph TD
    A[ç”¨æˆ·é’±åŒ…&lt;br/&gt;SYI] --&gt;|é€šè¿‡ DEX| B{æ£€æŸ¥æ˜¯å¦ç›ˆåˆ©}
    B --&gt;|æœ‰ç›ˆåˆ©| C[æ‰£é™¤ 1.5% marketing&lt;br/&gt;+ 25% ç›ˆåˆ©ç¨]
    B --&gt;|æ— ç›ˆåˆ©| D[æ‰£é™¤ 1.5% marketing]

    C --&gt; E[1.5% marketing â†’ è¥é”€åœ°å€]
    C --&gt; F[25% ç›ˆåˆ©ç¨ â†’ èŠ‚ç‚¹/è¥é”€åœ°å€]
    C --&gt; G[å‰©ä½™ USDT â†’ ç”¨æˆ·]

    D --&gt; E
    D --&gt; H[å‰©ä½™ USDT â†’ ç”¨æˆ·]

    I[æˆæœ¬è¿½è¸ª] -.-&gt;|æŸ¥è¯¢ userInvestment| B

    style A fill:#e1f5ff
    style B fill:#fff3cd
    style E fill:#d4edda
    style F fill:#d4edda
    style G fill:#cfe2ff
    style H fill:#cfe2ff
</div><p><strong>ä»£ç ä½ç½®</strong>: <code>SYIBase.sol:850-935</code></p>
<p><strong>èµ„é‡‘æµå‘è¯¦ç»†</strong>:</p>
<h4 id="æƒ…å†µ1-æ— ç›ˆåˆ©å–å‡º">æƒ…å†µ1: æ— ç›ˆåˆ©å–å‡º </h4>
<pre data-role="codeBlock" data-info="" class="language-text"><code>ç”¨æˆ·å–å‡º 1000 SYI:
â”œâ”€ æ‰£é™¤ 1.5% marketing: 15 SYI â†’ SYI åˆçº¦ç´¯ç§¯
â”œâ”€ å‡€é¢: 985 SYI
â”œâ”€ Swap æˆ USDT: å‡è®¾ 950 USDT
â””â”€ ç”¨æˆ·å®å¾—: 950 USDT
</code></pre><h4 id="æƒ…å†µ2-æœ‰ç›ˆåˆ©å–å‡º">æƒ…å†µ2: æœ‰ç›ˆåˆ©å–å‡º </h4>
<pre data-role="codeBlock" data-info="" class="language-text"><code>ç”¨æˆ·å–å‡º 1000 SYI:
â”œâ”€ å†å²æˆæœ¬: 500 USDT
â”œâ”€ å½“å‰ä»·å€¼: 1000 USDT
â”œâ”€ ç›ˆåˆ©: 500 USDT
â”œâ”€ æ‰£é™¤ 1.5% marketing: 15 SYI â†’ SYI åˆçº¦
â”œâ”€ å‡€é¢: 985 SYI â†’ swap æˆ 1000 USDT
â”œâ”€ æ‰£é™¤ 25% ç›ˆåˆ©ç¨: 125 USDT â†’ èŠ‚ç‚¹/è¥é”€åœ°å€
â”œâ”€ æ›´æ–°æˆæœ¬: 500 - (1000 - 125) = 0 (æ¸…é›¶)
â””â”€ ç”¨æˆ·å®å¾—: 875 USDT
</code></pre><p><strong>å…³é”®å‚æ•°</strong>:</p>
<ul>
<li><code>SELL_MARKETING_FEE = 150</code> (1.5%)</li>
<li><code>PROFIT_TAX_RATE = 2500</code> (25%)</li>
<li>å·²ç§»é™¤: <code>SELL_LIQUIDITY_ACCUM_FEE = 150</code> (1.5%)ï¼Œç°è®¾ä¸º 0</li>
</ul>
<p><strong>å†·å´æ—¶é—´</strong>: ä¹°å…¥å 10 ç§’å†…ä¸èƒ½å–å‡ºï¼ˆ<code>coldTime = 10 seconds</code>ï¼‰</p>
<hr>
<h2 id="2-è´¨æŠ¼åœºæ™¯èµ„é‡‘æµå‘">2. è´¨æŠ¼åœºæ™¯èµ„é‡‘æµå‘ </h2>
<h3 id="21-è´¨æŠ¼æµç¨‹å›¾">2.1 è´¨æŠ¼æµç¨‹å›¾ </h3>
<div class="mermaid">graph TD
    A[ç”¨æˆ·é’±åŒ…&lt;br/&gt;1000 USDT] --&gt;|è°ƒç”¨ stake| B[Staking åˆçº¦]
    B --&gt;|1. è½¬è´¦| C[Staking æŒæœ‰&lt;br/&gt;1000 USDT]
    C --&gt;|2. åˆ†æˆä¸¤åŠ| D[500 USDT ç”¨äºè´­ä¹° SYI]
    C --&gt;|2. åˆ†æˆä¸¤åŠ| E[500 USDT ä¿ç•™]

    D --&gt;|3a. swap| F[é€šè¿‡ Router]
    F --&gt;|æ‰£é™¤ 1% burn| G[è·å¾—çº¦ 4,950 SYI]

    E --&gt; H[500 USDT]
    G --&gt; H

    H --&gt;|4. addLiquidity| I[PancakeSwap&lt;br/&gt;æµåŠ¨æ€§æ± ]
    I --&gt;|5. é“¸é€ | J[ç”¨æˆ·è·å¾—&lt;br/&gt;1000 sSYI]

    K[æ›´æ–°æ¨èé“¾] -.-&gt;|teamTotalInvestValue += 1000| L[ä¸Šçº§èŠ‚ç‚¹]

    style A fill:#e1f5ff
    style B fill:#fff3cd
    style I fill:#d4edda
    style J fill:#cfe2ff
</div><p><strong>ä»£ç ä½ç½®</strong>: <code>StakingBase.sol:193-198, 1211-1245</code></p>
<p><strong>è¯¦ç»†æ­¥éª¤</strong>:</p>
<ol>
<li>
<p><strong>ç”¨æˆ·æˆæƒå¹¶è´¨æŠ¼</strong> (ç¬¬1212è¡Œ)</p>
<ul>
<li>ç”¨æˆ·è°ƒç”¨ <code>stake(1000 USDT, stakeIndex)</code></li>
<li>Staking åˆçº¦ä»ç”¨æˆ·è½¬å…¥ 1000 USDT</li>
</ul>
</li>
<li>
<p><strong>è´­ä¹° SYI</strong> (ç¬¬1219-1229è¡Œ)</p>
<ul>
<li>å°† 50% (500 USDT) ç”¨äºè´­ä¹° SYI</li>
<li>é€šè¿‡ Router è°ƒç”¨ <code>swapExactTokensForTokensSupportingFeeOnTransferTokens</code></li>
<li>æ‰£é™¤ SYI ä¹°å…¥ç¨ 1% burn</li>
<li>å®é™…è·å¾—çº¦ 4,950 SYI (å‡è®¾ 1 USDT = 10 SYIï¼Œæ‰£é™¤1%ç¨)</li>
</ul>
</li>
<li>
<p><strong>æ·»åŠ æµåŠ¨æ€§</strong> (ç¬¬1234-1244è¡Œ)</p>
<ul>
<li>å°†å‰©ä½™ 500 USDT + è´­ä¹°çš„ 4,950 SYI</li>
<li>è°ƒç”¨ <code>addLiquidity</code> æ·»åŠ åˆ° SYI/USDT æ± </li>
<li>LP ä»£å¸å‘é€åˆ° <code>address(0)</code>ï¼ˆé”€æ¯ï¼‰</li>
</ul>
</li>
<li>
<p><strong>é“¸é€  sSYI</strong> (ç¬¬863-895è¡Œ)</p>
<ul>
<li>é“¸é€  1000 sSYI ç»™ç”¨æˆ·ï¼ˆç­‰é¢æœ¬é‡‘ï¼‰</li>
<li>sSYI ä¸å¯è½¬è´¦ï¼Œä»…ä½œä¸ºè´¨æŠ¼å‡­è¯</li>
<li>æ›´æ–° <code>balances[user]</code> å’Œ <code>totalSupply</code></li>
</ul>
</li>
<li>
<p><strong>æ›´æ–°æ¨èé“¾</strong> (ç¬¬885è¡Œ)</p>
<ul>
<li>å°† 1000 USDT ç´¯åŠ åˆ°æ‰€æœ‰ä¸Šçº§çš„ <code>teamTotalInvestValue</code></li>
<li>ç”¨äºè®¡ç®—å›¢é˜Ÿå±‚çº§ (V1-V7)</li>
</ul>
</li>
</ol>
<p><strong>è´¨æŠ¼æ¡£ä½</strong>:</p>
<table>
<thead>
<tr>
<th>æ¡£ä½</th>
<th>å‘¨æœŸ</th>
<th>å¹´åŒ–æ”¶ç›Š</th>
<th>æ—¥åˆ©ç‡</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1å¤©</td>
<td>0.3%</td>
<td>1.003</td>
</tr>
<tr>
<td>1</td>
<td>7å¤©</td>
<td>4.28%</td>
<td>1.006</td>
</tr>
<tr>
<td>2</td>
<td>15å¤©</td>
<td>16.1%</td>
<td>1.010</td>
</tr>
<tr>
<td>3</td>
<td>30å¤©</td>
<td>56.31%</td>
<td>1.015</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="3-è§£è´¨æŠ¼åœºæ™¯èµ„é‡‘æµå‘">3. è§£è´¨æŠ¼åœºæ™¯èµ„é‡‘æµå‘ </h2>
<h3 id="31-è§£è´¨æŠ¼æµç¨‹å›¾">3.1 è§£è´¨æŠ¼æµç¨‹å›¾ </h3>
<div class="mermaid">graph TD
    A[ç”¨æˆ·è°ƒç”¨ unstake] --&gt; B[è®¡ç®—å¤åˆ©å¥–åŠ±]
    B --&gt; C[1200 USDT&lt;br/&gt;1000æœ¬é‡‘+200æ”¶ç›Š]

    C --&gt; D[ä»æ± å­å›æ”¶ SYI]
    D --&gt;|recycle| E[æµåŠ¨æ€§æ± ]
    E --&gt;|å›æ”¶æœ€å¤š 1/3 ä½™é¢| F[Staking è·å¾—&lt;br/&gt;12,000 SYI]

    F --&gt; G[Swap SYI â†’ USDT]
    G --&gt;|swapTokensForExactTokens| H[æ¢å¾— 1200 USDT]

    H --&gt; I{åˆ†é…æ”¶ç›Š}
    I --&gt;|5% ç›´æ¨å¥–åŠ±| J[Friend åœ°å€&lt;br/&gt;60 USDT]
    I --&gt;|æœ€é«˜ 35% å›¢é˜Ÿå¥–åŠ±| K[æ¨èé“¾ä¸Šçº§&lt;br/&gt;280 USDT]
    I --&gt;|1% èµå›è´¹| L[feeRecipient&lt;br/&gt;12 USDT]
    I --&gt;|å‰©ä½™| M[ç”¨æˆ·é’±åŒ…&lt;br/&gt;848 USDT]

    N[é”€æ¯ sSYI] -.-&gt;|_update sender â†’ 0| O[totalSupply -= 1000]
    P[æ›´æ–°æ¨èé“¾] -.-&gt;|teamTotalInvestValue -= 1000| Q[ä¸Šçº§èŠ‚ç‚¹]

    style A fill:#e1f5ff
    style C fill:#fff3cd
    style E fill:#f8d7da
    style J fill:#d4edda
    style K fill:#d4edda
    style L fill:#d4edda
    style M fill:#cfe2ff
</div><p><strong>ä»£ç ä½ç½®</strong>: <code>StakingBase.sol:200-264</code></p>
<p><strong>è¯¦ç»†æ­¥éª¤</strong>:</p>
<h3 id="ç¬¬ä¸€æ­¥è®¡ç®—å¥–åŠ±-ç¬¬203è¡Œ-1167-1196è¡Œ">ç¬¬ä¸€æ­¥ï¼šè®¡ç®—å¥–åŠ± (ç¬¬203è¡Œ, 1167-1196è¡Œ) </h3>
<p><strong>å¤åˆ©å…¬å¼</strong>:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>å¥–åŠ± = æœ¬é‡‘ Ã— (æ—¥åˆ©ç‡ ^ å·²è¿‡å¤©æ•°)
</code></pre><p><strong>ç¤ºä¾‹</strong> (30å¤©æ¡£ï¼Œ1000 USDT):</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token literal-property property">æœ¬é‡‘</span><span class="token operator">:</span> <span class="token number">1000</span> <span class="token constant">USDT</span>
<span class="token literal-property property">æ—¥åˆ©ç‡</span><span class="token operator">:</span> <span class="token number">1.015</span> <span class="token punctuation">(</span><span class="token number">1.5</span><span class="token operator">%</span> per day<span class="token punctuation">)</span>
<span class="token literal-property property">å·²è¿‡å¤©æ•°</span><span class="token operator">:</span> <span class="token number">30</span> å¤©
å¥–åŠ± <span class="token operator">=</span> <span class="token number">1000</span> <span class="token function">Ã—</span> <span class="token punctuation">(</span><span class="token number">1.015</span> <span class="token operator">^</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1000</span> Ã— <span class="token number">1.5631</span> <span class="token operator">=</span> <span class="token number">1563.1</span> <span class="token constant">USDT</span>
</code></pre><h3 id="ç¬¬äºŒæ­¥ä»æ± å­å›æ”¶-syi-ç¬¬261è¡Œ">ç¬¬äºŒæ­¥ï¼šä»æ± å­å›æ”¶ SYI (ç¬¬261è¡Œ) </h3>
<p><strong>Recycle æœºåˆ¶</strong> (SYIBase.sol:453-553):</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token comment">// å‡è®¾æ± å­æœ‰ 100,000 SYI</span>
maxRecyclable <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token operator">/</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">,</span><span class="token number">333</span> <span class="token constant">SYI</span>  <span class="token comment">// æœ€å¤šå›æ”¶ 1/3</span>
<span class="token literal-property property">éœ€è¦</span><span class="token operator">:</span> çº¦ <span class="token number">15</span><span class="token punctuation">,</span><span class="token number">631</span> <span class="token constant">SYI</span> <span class="token punctuation">(</span>ç”¨äºæ¢ <span class="token number">1563</span> <span class="token constant">USDT</span><span class="token punctuation">)</span>
<span class="token literal-property property">å®é™…å›æ”¶</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span><span class="token number">631</span> <span class="token constant">SYI</span> <span class="token punctuation">(</span>å°äºä¸Šé™ï¼ŒæŒ‰éœ€å›æ”¶<span class="token punctuation">)</span>

<span class="token comment">// æ“ä½œæµç¨‹:</span>
<span class="token number">1.</span> <span class="token method function property-access">_update</span><span class="token punctuation">(</span><span class="token maybe-class-name">Pairåœ°å€</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Stakingåœ°å€</span><span class="token punctuation">,</span> <span class="token number">15631</span> <span class="token constant">SYI</span><span class="token punctuation">)</span>
<span class="token number">2.</span> uniswapV2Pair<span class="token punctuation">.</span><span class="token method function property-access">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// åŒæ­¥å‚¨å¤‡é‡</span>
</code></pre><h3 id="ç¬¬ä¸‰æ­¥swap-syi-ä¸º-usdt-ç¬¬204-206è¡Œ">ç¬¬ä¸‰æ­¥ï¼šSwap SYI ä¸º USDT (ç¬¬204-206è¡Œ) </h3>
<p><strong>Swap æœºåˆ¶</strong> (ç¬¬922-950è¡Œ):</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token comment">// ä½¿ç”¨ swapTokensForExactTokensï¼ˆç²¾ç¡®è¾“å‡ºï¼‰</span>
<span class="token literal-property property">è¾“å…¥</span><span class="token operator">:</span> æœ€å¤š <span class="token number">15</span><span class="token punctuation">,</span><span class="token number">631</span> <span class="token constant">SYI</span>
<span class="token literal-property property">è¾“å‡º</span><span class="token operator">:</span> ç²¾ç¡® <span class="token number">1563</span> <span class="token constant">USDT</span>
<span class="token literal-property property">å®é™…æ¶ˆè€—</span><span class="token operator">:</span> çº¦ <span class="token number">15</span><span class="token punctuation">,</span><span class="token number">631</span> <span class="token constant">SYI</span> <span class="token punctuation">(</span>å«æ»‘ç‚¹<span class="token punctuation">)</span>
</code></pre><h3 id="ç¬¬å››æ­¥åˆ†é…æ”¶ç›Š-ç¬¬212-221è¡Œ">ç¬¬å››æ­¥ï¼šåˆ†é…æ”¶ç›Š (ç¬¬212-221è¡Œ) </h3>
<p>å‡è®¾æ”¶ç›Šæ˜¯ 563 USDT (1563 - 1000æœ¬é‡‘):</p>
<table>
<thead>
<tr>
<th>æ¥æ”¶æ–¹</th>
<th>æ¯”ä¾‹</th>
<th>é‡‘é¢</th>
<th>ä»£ç ä½ç½®</th>
</tr>
</thead>
<tbody>
<tr>
<td>Friend ç›´æ¨</td>
<td>5%</td>
<td>28.15 USDT</td>
<td>999-1012è¡Œ</td>
</tr>
<tr>
<td>å›¢é˜Ÿå¥–åŠ±</td>
<td>æœ€é«˜35%</td>
<td>196.05 USDT</td>
<td>1014-1078è¡Œ</td>
</tr>
<tr>
<td>èµå›è´¹</td>
<td>1%</td>
<td>15.63 USDT</td>
<td>224-242è¡Œ</td>
</tr>
<tr>
<td>ç”¨æˆ·</td>
<td>å‰©ä½™</td>
<td>1323.17 USDT</td>
<td>258è¡Œ</td>
</tr>
</tbody>
</table>
<p><strong>å›¢é˜Ÿå¥–åŠ±åˆ†é…è¯¦è§£</strong> (æœ€é«˜35%):</p>
<div class="mermaid">graph TD
    A[å›¢é˜Ÿæ”¶ç›Šæ± &lt;br/&gt;35% = 196.05 USDT] --&gt; B{æ¨èé“¾å±‚çº§}

    B --&gt; C[V1: 5%&lt;br/&gt;28.15 USDT]
    B --&gt; D[V2: 5% å·®é¢&lt;br/&gt;28.15 USDT]
    B --&gt; E[V3: 5% å·®é¢&lt;br/&gt;28.15 USDT]
    B --&gt; F[V4: 5% å·®é¢&lt;br/&gt;28.15 USDT]
    B --&gt; G[V5: 5% å·®é¢&lt;br/&gt;28.15 USDT]
    B --&gt; H[V6: 5% å·®é¢&lt;br/&gt;28.15 USDT]
    B --&gt; I[V7: 5% å·®é¢&lt;br/&gt;28.15 USDT]

    J[æ¡ä»¶] -.-&gt;|å¿…é¡»æ˜¯ Preacher&lt;br/&gt;è´¨æŠ¼â‰¥200 SYI| B
    K[æœªåˆ†é…] -.-&gt;|æ²¡æœ‰ä¸Šçº§è¾¾æ ‡| L[â†’ rootAddress]
</div><p><strong>V1-V7 å±‚çº§è¦æ±‚</strong>:</p>
<table>
<thead>
<tr>
<th>å±‚çº§</th>
<th>å›¢é˜ŸKPIé—¨æ§›</th>
<th>å¥–åŠ±æ¯”ä¾‹</th>
<th>å·®é¢å¥–åŠ±</th>
</tr>
</thead>
<tbody>
<tr>
<td>V1</td>
<td>10,000 SYI</td>
<td>5%</td>
<td>5%</td>
</tr>
<tr>
<td>V2</td>
<td>50,000 SYI</td>
<td>10%</td>
<td>5%</td>
</tr>
<tr>
<td>V3</td>
<td>200,000 SYI</td>
<td>15%</td>
<td>5%</td>
</tr>
<tr>
<td>V4</td>
<td>500,000 SYI</td>
<td>20%</td>
<td>5%</td>
</tr>
<tr>
<td>V5</td>
<td>1M SYI</td>
<td>25%</td>
<td>5%</td>
</tr>
<tr>
<td>V6</td>
<td>2.5M SYI</td>
<td>30%</td>
<td>5%</td>
</tr>
<tr>
<td>V7</td>
<td>5M SYI</td>
<td>35%</td>
<td>5%</td>
</tr>
</tbody>
</table>
<p><strong>å·®é¢å¥–åŠ±ç¤ºä¾‹</strong>:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>å‡è®¾æ¨èé“¾: User â†’ A(V2) â†’ B(V4) â†’ C(V7)
æ”¶ç›Š: 563 USDTï¼Œå›¢é˜Ÿæ€»æ± : 196.05 USDT

åˆ†é…:
- C (V7): 35% - 0% = 35% â†’ 196.05 USDT (å…¨éƒ¨)
- B (V4): å·²è¢« C æ‹¿èµ°ï¼Œæ— å·®é¢
- A (V2): å·²è¢« C æ‹¿èµ°ï¼Œæ— å·®é¢

å¦‚æœæ¨èé“¾: User â†’ A(V2) â†’ B(V4)
- B (V4): 20% - 0% = 20% â†’ 112.6 USDT
- A (V2): 10% - 0% = 10% â†’ 56.3 USDT
- å‰©ä½™ 15%: 27.15 USDT â†’ rootAddress
</code></pre><h3 id="ç¬¬äº”æ­¥é”€æ¯-ssyi-ç¬¬915è¡Œ">ç¬¬äº”æ­¥ï¼šé”€æ¯ sSYI (ç¬¬915è¡Œ) </h3>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token function">_update</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token function">address</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span> sSYI<span class="token punctuation">)</span>
<span class="token comment">// balances[user] -= 1000</span>
<span class="token comment">// totalSupply -= 1000</span>
</code></pre><h3 id="ç¬¬å…­æ­¥æ›´æ–°å›¢é˜ŸæŠ•èµ„-ç¬¬219è¡Œ">ç¬¬å…­æ­¥ï¼šæ›´æ–°å›¢é˜ŸæŠ•èµ„ (ç¬¬219è¡Œ) </h3>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token function">_updateTeamInvestmentValues</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token comment">// éå†æ¨èé“¾ï¼Œæ‰€æœ‰ä¸Šçº§çš„ teamTotalInvestValue -= 1000</span>
</code></pre><hr>
<h2 id="4-recycle-æœºåˆ¶">4. Recycle æœºåˆ¶ </h2>
<h3 id="41-recycle-æµç¨‹å›¾">4.1 Recycle æµç¨‹å›¾ </h3>
<div class="mermaid">graph TD
    A[Staking éœ€è¦ SYI&lt;br/&gt;æ”¯ä»˜è´¨æŠ¼å¥–åŠ±] --&gt;|è°ƒç”¨ recycle| B[SYI åˆçº¦]
    B --&gt; C{æ£€æŸ¥æ± å­ä½™é¢}
    C --&gt;|æŸ¥è¯¢ balanceOf Pair| D[æµåŠ¨æ€§æ± &lt;br/&gt;100,000 SYI]

    D --&gt; E[è®¡ç®—æœ€å¤§å›æ”¶é‡&lt;br/&gt;100,000 / 3 = 33,333]
    E --&gt; F{æ¯”è¾ƒéœ€æ±‚}
    F --&gt;|éœ€æ±‚ 15,000 &lt; ä¸Šé™| G[å›æ”¶ 15,000 SYI]
    F --&gt;|éœ€æ±‚ 50,000 &gt; ä¸Šé™| H[å›æ”¶ 33,333 SYI]

    G --&gt; I[_update Pair â†’ Staking]
    H --&gt; I

    I --&gt; J[uniswapV2Pair.sync]
    J --&gt; K[åŒæ­¥å‚¨å¤‡é‡&lt;br/&gt;æ›´æ–° K å€¼]

    style A fill:#e1f5ff
    style D fill:#fff3cd
    style K fill:#d4edda
</div><p><strong>ä»£ç ä½ç½®</strong>: <code>SYIBase.sol:453-553</code></p>
<p><strong>å…³é”®é€»è¾‘</strong>:</p>
<ol>
<li>
<p><strong>æƒé™æ§åˆ¶</strong> (ç¬¬458è¡Œ):</p>
<pre data-role="codeBlock" data-info="solidity" class="language-solidity solidity"><code><span class="token keyword keyword-require">require</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>sender <span class="token operator">==</span> <span class="token builtin">address</span><span class="token punctuation">(</span>staking<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Only staking contract"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></li>
<li>
<p><strong>è·å–å®é™…ä½™é¢</strong> (ç¬¬496è¡Œ):</p>
<pre data-role="codeBlock" data-info="solidity" class="language-solidity solidity"><code><span class="token builtin">uint256</span> pairBalance <span class="token operator">=</span> <span class="token function">balanceOf</span><span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">(</span>uniswapV2Pair<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¿™æ˜¯ SYI ä»£å¸åˆçº¦è®°å½•çš„"Pair åœ°å€æ‹¥æœ‰çš„ SYI æ•°é‡"</span>
</code></pre></li>
<li>
<p><strong>Balance vs Reserve çš„åŒºåˆ«</strong>:</p>
<div class="mermaid">graph LR
    A[SYI Token åˆçº¦] --&gt;|balanceOf Pair| B[Balance&lt;br/&gt;å®é™…ä½™é¢&lt;br/&gt;100,000 SYI]
    C[Pair åˆçº¦] --&gt;|getReserves| D[Reserve&lt;br/&gt;è´¦é¢å‚¨å¤‡&lt;br/&gt;95,000 SYI]

    E[å·®é¢ 5,000 SYI] -.-&gt;|å¯è¢« skim å–èµ°&lt;br/&gt;æˆ– recycle å›æ”¶| F[å¤šä½™ä»£å¸]
</div><p><strong>ä¸ºä»€ä¹ˆä¼šæœ‰å·®é¢ï¼Ÿ</strong></p>
<ul>
<li>æœ‰äººç›´æ¥è½¬è´¦ SYI ç»™ Pairï¼ˆä¸é€šè¿‡ Routerï¼‰</li>
<li>äº¤æ˜“ç¨ç•™åœ¨ Pair é‡Œï¼ˆå¦‚æœ SYI æœ‰ç¨ï¼‰</li>
<li>ä»·æ ¼æ³¢åŠ¨å¯¼è‡´çš„ç§¯ç´¯</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨ä¸Šé™</strong> (ç¬¬507è¡Œ):</p>
<pre data-role="codeBlock" data-info="solidity" class="language-solidity solidity"><code><span class="token builtin">uint256</span> maxRecyclable <span class="token operator">=</span> pairBalance <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// æœ€å¤š 1/3</span>
</code></pre><p><strong>ä¸ºä»€ä¹ˆé™åˆ¶ 1/3ï¼Ÿ</strong></p>
<ul>
<li>ä¿æŠ¤æµåŠ¨æ€§ä¸è¢«è¿‡åº¦æŠ½å–</li>
<li>é¿å…å•æ¬¡å›æ”¶å¯¼è‡´ä»·æ ¼å‰§çƒˆæ³¢åŠ¨</li>
<li>é˜²æ­¢æ¶æ„è€—å°½æµåŠ¨æ€§</li>
</ul>
</li>
<li>
<p><strong>æ‰§è¡Œå›æ”¶</strong> (ç¬¬525-526è¡Œ):</p>
<pre data-role="codeBlock" data-info="solidity" class="language-solidity solidity"><code><span class="token function">_update</span><span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">(</span>uniswapV2Pair<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">address</span><span class="token punctuation">(</span>staking<span class="token punctuation">)</span><span class="token punctuation">,</span> recycleAmount<span class="token punctuation">)</span><span class="token punctuation">;</span>
uniswapV2Pair<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å…³é”®ï¼å¿…é¡»åŒæ­¥</span>
</code></pre></li>
<li>
<p><strong>ä¸ºä»€ä¹ˆå¿…é¡» sync()ï¼Ÿ</strong></p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>å›æ”¶å‰:
â”œâ”€ balance (å®é™…): 100,000 SYI
â””â”€ reserve (è´¦é¢): 100,000 SYI
âœ… K å€¼: reserve0 * reserve1 = k

å›æ”¶ 15,000 SYI å (å¦‚æœä¸ sync):
â”œâ”€ balance (å®é™…): 85,000 SYI  â† _update ä¿®æ”¹äº†
â””â”€ reserve (è´¦é¢): 100,000 SYI â† Pair ä¸çŸ¥é“
âŒ ä»·æ ¼è®¡ç®—é”™è¯¯ï¼ (reserve è¿˜æ˜¯ 100,000)
âŒ äº¤æ˜“æ»‘ç‚¹å¼‚å¸¸
âŒ K å€¼éªŒè¯å¤±è´¥

æ‰§è¡Œ sync() å:
â”œâ”€ balance (å®é™…): 85,000 SYI
â””â”€ reserve (è´¦é¢): 85,000 SYI  â† å¼ºåˆ¶åŒæ­¥
âœ… K å€¼: reserve0 * reserve1 = k (æ›´æ–°)
âœ… ä»·æ ¼æ­£å¸¸
</code></pre></li>
</ol>
<p><strong>Recycle å¯¹ä»·æ ¼çš„å½±å“</strong>:</p>
<p>å‡è®¾æ± å­: 100,000 SYI / 10,000 USDT (1 SYI = 0.1 USDT)</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>å›æ”¶å‰:
â”œâ”€ SYI reserve: 100,000
â”œâ”€ USDT reserve: 10,000
â”œâ”€ K = 100,000 Ã— 10,000 = 1,000,000,000
â””â”€ ä»·æ ¼: 1 SYI = 0.1 USDT

å›æ”¶ 15,000 SYI å:
â”œâ”€ SYI reserve: 85,000 (å‡å°‘)
â”œâ”€ USDT reserve: 10,000 (ä¸å˜)
â”œâ”€ K = 85,000 Ã— 10,000 = 850,000,000 (å‡å°‘)
â””â”€ ä»·æ ¼: 1 SYI = 10,000/85,000 = 0.1176 USDT (ä¸Šæ¶¨17.6%)

æ³¨æ„: Recycle å¯¼è‡´ SYI ä»·æ ¼ä¸Šæ¶¨ï¼
</code></pre><hr>
<h2 id="5-å»æ‰-swap-äº¤æ˜“è´¹å½±å“åˆ†æ">5. å»æ‰ Swap äº¤æ˜“è´¹å½±å“åˆ†æ </h2>
<h3 id="51-å½“å‰çŠ¶æ€ä»£ç ä¸­å·²éƒ¨åˆ†ç§»é™¤">5.1 å½“å‰çŠ¶æ€ï¼ˆä»£ç ä¸­å·²éƒ¨åˆ†ç§»é™¤ï¼‰ </h3>
<table>
<thead>
<tr>
<th>è´¹ç”¨é¡¹ç›®</th>
<th>åŸè®¾è®¡</th>
<th>å½“å‰çŠ¶æ€</th>
<th>ä»£ç ä½ç½®</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¹°å…¥ burn</td>
<td>1%</td>
<td>âœ… ä¿ç•™ 1%</td>
<td>ç¬¬830è¡Œ</td>
</tr>
<tr>
<td>ä¹°å…¥ LP</td>
<td>2%</td>
<td>âŒ å·²ç§»é™¤</td>
<td>ç¬¬846è¡Œ (è®¾ä¸º0)</td>
</tr>
<tr>
<td>å–å‡º marketing</td>
<td>1.5%</td>
<td>âœ… ä¿ç•™ 1.5%</td>
<td>ç¬¬859è¡Œ</td>
</tr>
<tr>
<td>å–å‡º LP</td>
<td>1.5%</td>
<td>âŒ å·²ç§»é™¤</td>
<td>ç¬¬925è¡Œ (è®¾ä¸º0)</td>
</tr>
<tr>
<td>ç›ˆåˆ©ç¨</td>
<td>25%</td>
<td>âœ… ä¿ç•™ 25%</td>
<td>ç¬¬877è¡Œ</td>
</tr>
</tbody>
</table>
<h3 id="52-å¦‚æœå®Œå…¨å»æ‰æ‰€æœ‰-swap-äº¤æ˜“è´¹">5.2 å¦‚æœå®Œå…¨å»æ‰æ‰€æœ‰ Swap äº¤æ˜“è´¹ </h3>
<h4 id="æ–¹æ¡ˆa-ä»…å»æ‰-swap-è´¹ç”¨ä¿ç•™ç›ˆåˆ©ç¨">æ–¹æ¡ˆA: ä»…å»æ‰ Swap è´¹ç”¨ï¼Œä¿ç•™ç›ˆåˆ©ç¨ </h4>
<pre data-role="codeBlock" data-info="solidity" class="language-solidity solidity"><code><span class="token comment">// ä¿®æ”¹åçš„ä¹°å…¥é€»è¾‘</span>
<span class="token keyword keyword-function">function</span> <span class="token function">_handleBuy</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token keyword keyword-from">from</span><span class="token punctuation">,</span> <span class="token builtin">address</span> to<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword keyword-private">private</span> <span class="token punctuation">{</span>
    <span class="token comment">// å®Œå…¨æ— ç¨</span>
    super<span class="token punctuation">.</span><span class="token function">_update</span><span class="token punctuation">(</span><span class="token keyword keyword-from">from</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ä»ç„¶è¿½è¸ªæˆæœ¬ï¼ˆç”¨äºç›ˆåˆ©ç¨ï¼‰</span>
    <span class="token builtin">uint256</span> estimatedUSDTCost <span class="token operator">=</span> <span class="token function">_estimateBuyUSDTCost</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    userInvestment<span class="token punctuation">[</span>to<span class="token punctuation">]</span> <span class="token operator">=</span> userInvestment<span class="token punctuation">[</span>to<span class="token punctuation">]</span> <span class="token operator">+</span> estimatedUSDTCost<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä¿®æ”¹åçš„å–å‡ºé€»è¾‘</span>
<span class="token keyword keyword-function">function</span> <span class="token function">_handleSell</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token keyword keyword-from">from</span><span class="token punctuation">,</span> <span class="token builtin">address</span> to<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword keyword-private">private</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ—  Swap ç¨ï¼Œåªæœ‰ç›ˆåˆ©ç¨</span>
    <span class="token builtin">uint256</span> estimatedUSDTFromSale <span class="token operator">=</span> <span class="token function">_estimateSwapOutput</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token builtin">uint256</span> profitTaxInSYI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>userInvestment<span class="token punctuation">[</span><span class="token keyword keyword-from">from</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> estimatedUSDTFromSale <span class="token operator">&gt;</span> userInvestment<span class="token punctuation">[</span><span class="token keyword keyword-from">from</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">uint256</span> profitAmount <span class="token operator">=</span> estimatedUSDTFromSale <span class="token operator">-</span> userInvestment<span class="token punctuation">[</span><span class="token keyword keyword-from">from</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token builtin">uint256</span> profitTaxUSDT <span class="token operator">=</span> <span class="token punctuation">(</span>profitAmount <span class="token operator">*</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>
        profitTaxInSYI <span class="token operator">=</span> <span class="token punctuation">(</span>profitTaxUSDT <span class="token operator">*</span> amount<span class="token punctuation">)</span> <span class="token operator">/</span> estimatedUSDTFromSale<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token builtin">uint256</span> netAmount <span class="token operator">=</span> amount <span class="token operator">-</span> profitTaxInSYI<span class="token punctuation">;</span>
    super<span class="token punctuation">.</span><span class="token function">_update</span><span class="token punctuation">(</span><span class="token keyword keyword-from">from</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> netAmount<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>å½±å“åˆ†æ</strong>:</p>
<table>
<thead>
<tr>
<th>æ–¹é¢</th>
<th>å½±å“</th>
<th>ä¸¥é‡ç¨‹åº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç”¨æˆ·ä½“éªŒ</td>
<td>ğŸŸ¢ æ›´å¥½çš„ä¹°å–ä½“éªŒï¼Œæ—  Swap ç¨</td>
<td>æ­£é¢</td>
</tr>
<tr>
<td>æµåŠ¨æ€§</td>
<td>ğŸŸ¡ æ— è‡ªåŠ¨æ·»åŠ æµåŠ¨æ€§</td>
<td>ä¸­æ€§</td>
</tr>
<tr>
<td>è¥é”€èµ„é‡‘</td>
<td>ğŸ”´ æ—  1.5% å–å‡ºç¨æ”¶å…¥</td>
<td>è´Ÿé¢</td>
</tr>
<tr>
<td>ä»·æ ¼ç¨³å®šæ€§</td>
<td>ğŸŸ¡ ç¼ºå°‘ burn é€šç¼©æœºåˆ¶</td>
<td>ä¸­æ€§åè´Ÿ</td>
</tr>
<tr>
<td>ç›ˆåˆ©ç¨</td>
<td>ğŸŸ¢ ä»ç„¶æ”¶å– 25% ç›ˆåˆ©ç¨</td>
<td>æ­£é¢</td>
</tr>
</tbody>
</table>
<h4 id="æ–¹æ¡ˆb-å®Œå…¨å»æ‰æ‰€æœ‰è´¹ç”¨åŒ…æ‹¬ç›ˆåˆ©ç¨">æ–¹æ¡ˆB: å®Œå…¨å»æ‰æ‰€æœ‰è´¹ç”¨ï¼ˆåŒ…æ‹¬ç›ˆåˆ©ç¨ï¼‰ </h4>
<pre data-role="codeBlock" data-info="solidity" class="language-solidity solidity"><code><span class="token keyword keyword-function">function</span> <span class="token function">_handleBuy</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token keyword keyword-from">from</span><span class="token punctuation">,</span> <span class="token builtin">address</span> to<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword keyword-private">private</span> <span class="token punctuation">{</span>
    super<span class="token punctuation">.</span><span class="token function">_update</span><span class="token punctuation">(</span><span class="token keyword keyword-from">from</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å®Œå…¨æ— ç¨ï¼Œæ— æˆæœ¬è¿½è¸ª</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-function">function</span> <span class="token function">_handleSell</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token keyword keyword-from">from</span><span class="token punctuation">,</span> <span class="token builtin">address</span> to<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword keyword-private">private</span> <span class="token punctuation">{</span>
    super<span class="token punctuation">.</span><span class="token function">_update</span><span class="token punctuation">(</span><span class="token keyword keyword-from">from</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å®Œå…¨æ— ç¨</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>å½±å“åˆ†æ</strong>:</p>
<table>
<thead>
<tr>
<th>æ–¹é¢</th>
<th>å½±å“</th>
<th>ä¸¥é‡ç¨‹åº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>åˆè§„æ€§</td>
<td>ğŸŸ¢ ç¬¦åˆ OKX ä¸Šå¸è¦æ±‚ï¼ˆæ— é»‘ç™½åå•é™åˆ¶ï¼‰</td>
<td>æ­£é¢</td>
</tr>
<tr>
<td>ç”¨æˆ·ä½“éªŒ</td>
<td>ğŸŸ¢ å®Œå…¨æ— ç¨ï¼Œä½“éªŒæœ€ä½³</td>
<td>æ­£é¢</td>
</tr>
<tr>
<td>é¡¹ç›®æ”¶å…¥</td>
<td>ğŸ”´ æ— ä»»ä½•äº¤æ˜“è´¹æ”¶å…¥</td>
<td>è´Ÿé¢</td>
</tr>
<tr>
<td>é€šç¼©æœºåˆ¶</td>
<td>ğŸ”´ æ—  burnï¼Œå¯èƒ½é€šèƒ€</td>
<td>è´Ÿé¢</td>
</tr>
<tr>
<td>ä»·æ ¼ç¨³å®šæ€§</td>
<td>ğŸŸ¡ ç¼ºå°‘è´¹ç”¨ç¼“å†²æœºåˆ¶</td>
<td>ä¸­æ€§åè´Ÿ</td>
</tr>
</tbody>
</table>
<h3 id="53-äº¤æ˜“è´¹å¯¹æµåŠ¨æ€§çš„å½±å“">5.3 äº¤æ˜“è´¹å¯¹æµåŠ¨æ€§çš„å½±å“ </h3>
<h4 id="å½“å‰è®¾è®¡-éƒ¨åˆ†è´¹ç”¨å·²ç§»é™¤">å½“å‰è®¾è®¡ (éƒ¨åˆ†è´¹ç”¨å·²ç§»é™¤): </h4>
<div class="mermaid">graph TD
    A[ç”¨æˆ·äº¤æ˜“] --&gt; B[1% burn]
    A --&gt; C[1.5% marketing]
    A --&gt; D[25% ç›ˆåˆ©ç¨]

    B --&gt; E[é€šç¼©æ•ˆåº”&lt;br/&gt;å‡å°‘ä¾›åº”]
    C --&gt; F[è¥é”€èµ„é‡‘&lt;br/&gt;é¡¹ç›®è¿è¥]
    D --&gt; G[èŠ‚ç‚¹å¥–åŠ±&lt;br/&gt;æ¿€åŠ±æŒæœ‰]

    H[LP è´¹ç”¨] -.-&gt;|å·²ç§»é™¤| I[æ— è‡ªåŠ¨æ·»åŠ æµåŠ¨æ€§]

    style B fill:#f8d7da
    style C fill:#d4edda
    style D fill:#d4edda
    style H fill:#e2e3e5
    style I fill:#f8d7da
</div><h4 id="å®Œå…¨æ— ç¨è®¾è®¡">å®Œå…¨æ— ç¨è®¾è®¡: </h4>
<div class="mermaid">graph TD
    A[ç”¨æˆ·äº¤æ˜“] --&gt; B[æ— è´¹ç”¨]
    B --&gt; C[ç”¨æˆ·ä½“éªŒå¥½]
    B --&gt; D[ç¬¦åˆ OKX è¦æ±‚]

    E[é¡¹ç›®æ”¶å…¥] -.-&gt;|âŒ æ— æ”¶å…¥| F[éœ€è¦å…¶ä»–æ”¶å…¥æ¥æº]
    G[æµåŠ¨æ€§] -.-&gt;|âŒ æ— è‡ªåŠ¨æ·»åŠ | H[éœ€è¦æ‰‹åŠ¨ç®¡ç†]
    I[é€šç¼©æœºåˆ¶] -.-&gt;|âŒ æ—  burn| J[å¯èƒ½é€šèƒ€]

    style C fill:#d4edda
    style D fill:#d4edda
    style F fill:#f8d7da
    style H fill:#fff3cd
    style J fill:#f8d7da
</div><h3 id="54-æ¨èæ–¹æ¡ˆ">5.4 æ¨èæ–¹æ¡ˆ </h3>
<p>æ ¹æ®é¡¹ç›®éœ€æ±‚åˆ†æï¼Œæ¨è<strong>æ–¹æ¡ˆA</strong>ï¼ˆä»…å»æ‰ Swap è´¹ç”¨ï¼Œä¿ç•™ç›ˆåˆ©ç¨ï¼‰:</p>
<p><strong>ç†ç”±</strong>:</p>
<ol>
<li>âœ… ç¬¦åˆ OKX ä¸Šå¸è¦æ±‚ï¼ˆæ— é»‘ç™½åå•ï¼Œæ— åŸºç¡€ Swap ç¨ï¼‰</li>
<li>âœ… ä¿ç•™ç›ˆåˆ©ç¨æœºåˆ¶ï¼Œä»æœ‰æ”¶å…¥æ¥æº</li>
<li>âœ… ç”¨æˆ·ä½“éªŒå¥½ï¼ˆæ—¥å¸¸ä¹°å–æ— ç¨ï¼‰</li>
<li>âœ… é˜²æ­¢å¥—åˆ©ï¼ˆç›ˆåˆ©ç¨æƒ©ç½šçŸ­æœŸç‚’ä½œï¼‰</li>
<li>âš ï¸ éœ€è¦æ³¨æ„ï¼šæ—  burn å¯èƒ½å¯¼è‡´é€šèƒ€ï¼Œå»ºè®®é€šè¿‡è´¨æŠ¼å¥–åŠ±æ§åˆ¶</li>
</ol>
<p><strong>éœ€è¦è°ƒæ•´çš„ä»£ç </strong>:</p>
<pre data-role="codeBlock" data-info="solidity" class="language-solidity solidity"><code><span class="token comment">// SYIBase.sol</span>
<span class="token builtin">uint256</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-constant">constant</span> BUY_BURN_FEE <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment">// æ”¹ä¸º 0</span>
<span class="token builtin">uint256</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-constant">constant</span> SELL_MARKETING_FEE <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// æ”¹ä¸º 0</span>
<span class="token builtin">uint256</span> <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-constant">constant</span> PROFIT_TAX_RATE <span class="token operator">=</span> <span class="token number">2500</span><span class="token punctuation">;</span>  <span class="token comment">// ä¿ç•™ 25%</span>
</code></pre><p><strong>é¢å¤–å»ºè®®</strong>:</p>
<ol>
<li>å¢åŠ è´¨æŠ¼é”å®šæœŸï¼Œå‡å°‘æµé€šä¾›åº”</li>
<li>é€šè¿‡ Staking å¥–åŠ±å¸å¼•é•¿æœŸæŒæœ‰</li>
<li>å®šæœŸä»è´¨æŠ¼æ”¶å…¥ä¸­ burn ä»£å¸ï¼Œç»´æŒé€šç¼©</li>
<li>æµåŠ¨æ€§ç”±é¡¹ç›®æ–¹æˆ–ç¤¾åŒºå®šæœŸæ‰‹åŠ¨æ·»åŠ </li>
</ol>
<hr>
<h2 id="6-æ€»ç»“å¯¹æ¯”è¡¨">6. æ€»ç»“å¯¹æ¯”è¡¨ </h2>
<h3 id="61-å„åœºæ™¯èµ„é‡‘æµå‘æ€»è§ˆ">6.1 å„åœºæ™¯èµ„é‡‘æµå‘æ€»è§ˆ </h3>
<table>
<thead>
<tr>
<th>åœºæ™¯</th>
<th>ç”¨æˆ·æŠ•å…¥</th>
<th>åè®®æ‰£é™¤</th>
<th>ç”¨æˆ·å®å¾—</th>
<th>åè®®ç´¯ç§¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¹°å…¥</td>
<td>1000 USDT</td>
<td>1% burn</td>
<td>9,900 SYI</td>
<td>100 SYI burn</td>
</tr>
<tr>
<td>å–å‡º(æ— ç›ˆåˆ©)</td>
<td>1000 SYI</td>
<td>1.5% marketing</td>
<td>985 SYI â†’ ~950 USDT</td>
<td>15 SYI</td>
</tr>
<tr>
<td>å–å‡º(æœ‰ç›ˆåˆ©)</td>
<td>1000 SYI</td>
<td>1.5% marketing + 25% ç›ˆåˆ©ç¨</td>
<td>~875 USDT</td>
<td>15 SYI + 125 USDT</td>
</tr>
<tr>
<td>è´¨æŠ¼</td>
<td>1000 USDT</td>
<td>1% burn (ä¹°å…¥æ—¶)</td>
<td>1000 sSYI</td>
<td>æ·»åŠ æµåŠ¨æ€§</td>
</tr>
<tr>
<td>è§£è´¨æŠ¼</td>
<td>1000 sSYI</td>
<td>5%+35%+1% æ”¶ç›Š</td>
<td>~848 USDT</td>
<td>368 USDT åˆ†é…</td>
</tr>
</tbody>
</table>
<h3 id="62-è´¹ç”¨å¯¹æ¯”">6.2 è´¹ç”¨å¯¹æ¯” </h3>
<table>
<thead>
<tr>
<th>è´¹ç”¨ç±»å‹</th>
<th>å½“å‰è´¹ç‡</th>
<th>æ¥æ”¶æ–¹</th>
<th>æ˜¯å¦ä¿ç•™</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¹°å…¥ burn</td>
<td>1%</td>
<td>é”€æ¯åœ°å€</td>
<td>âœ… æ˜¯</td>
</tr>
<tr>
<td>ä¹°å…¥ LP</td>
<td>2%</td>
<td>æµåŠ¨æ€§æ± </td>
<td>âŒ å·²ç§»é™¤</td>
</tr>
<tr>
<td>å–å‡º marketing</td>
<td>1.5%</td>
<td>è¥é”€åœ°å€</td>
<td>âœ… æ˜¯</td>
</tr>
<tr>
<td>å–å‡º LP</td>
<td>1.5%</td>
<td>æµåŠ¨æ€§æ± </td>
<td>âŒ å·²ç§»é™¤</td>
</tr>
<tr>
<td>ç›ˆåˆ©ç¨</td>
<td>25%</td>
<td>èŠ‚ç‚¹/è¥é”€</td>
<td>âœ… æ˜¯</td>
</tr>
<tr>
<td>ç›´æ¨å¥–åŠ±</td>
<td>5%</td>
<td>Friend</td>
<td>âœ… æ˜¯</td>
</tr>
<tr>
<td>å›¢é˜Ÿå¥–åŠ±</td>
<td>æœ€é«˜35%</td>
<td>æ¨èé“¾</td>
<td>âœ… æ˜¯</td>
</tr>
<tr>
<td>èµå›è´¹</td>
<td>1%</td>
<td>feeRecipient</td>
<td>âœ… æ˜¯</td>
</tr>
</tbody>
</table>
<h3 id="63-ä»£å¸æµåŠ¨è·¯å¾„">6.3 ä»£å¸æµåŠ¨è·¯å¾„ </h3>
<div class="mermaid">graph TD
    A[SYI ä»£å¸æ€»æµåŠ¨] --&gt; B[ä¹°å…¥æµå…¥]
    A --&gt; C[å–å‡ºæµå‡º]
    A --&gt; D[è´¨æŠ¼å¾ªç¯]

    B --&gt; B1[USDT â†’ SYI&lt;br/&gt;æ‰£é™¤1% burn]
    C --&gt; C1[SYI â†’ USDT&lt;br/&gt;æ‰£é™¤1.5% marketing + 25% ç›ˆåˆ©ç¨]

    D --&gt; D1[è´¨æŠ¼: USDT â†’ æ·»åŠ æµåŠ¨æ€§]
    D --&gt; D2[è§£è´¨æŠ¼: å›æ”¶ SYI â†’ USDT]
    D --&gt; D3[Recycle: æ± å­ â†’ Staking]

    E[æµåŠ¨æ€§æ± ] &lt;--&gt; D
    E &lt;--&gt; B
    E &lt;--&gt; C

    style A fill:#e1f5ff
    style B1 fill:#d4edda
    style C1 fill:#f8d7da
    style D1 fill:#fff3cd
    style D2 fill:#fff3cd
    style D3 fill:#cfe2ff
</div><hr>
<h2 id="é™„å½•å…³é”®åˆçº¦å‡½æ•°ç´¢å¼•">é™„å½•ï¼šå…³é”®åˆçº¦å‡½æ•°ç´¢å¼• </h2>
<table>
<thead>
<tr>
<th>å‡½æ•°å</th>
<th>åˆçº¦</th>
<th>è¡Œå·</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>_handleBuy</code></td>
<td>SYIBase</td>
<td>817-848</td>
<td>å¤„ç†ä¹°å…¥äº¤æ˜“</td>
</tr>
<tr>
<td><code>_handleSell</code></td>
<td>SYIBase</td>
<td>850-935</td>
<td>å¤„ç†å–å‡ºäº¤æ˜“</td>
</tr>
<tr>
<td><code>recycle</code></td>
<td>SYIBase</td>
<td>453-553</td>
<td>ä»æ± å­å›æ”¶ SYI</td>
</tr>
<tr>
<td><code>stake</code></td>
<td>StakingBase</td>
<td>193-198</td>
<td>è´¨æŠ¼ USDT</td>
</tr>
<tr>
<td><code>unstake</code></td>
<td>StakingBase</td>
<td>200-264</td>
<td>è§£é™¤è´¨æŠ¼</td>
</tr>
<tr>
<td><code>_swapAndAddLiquidity</code></td>
<td>StakingBase</td>
<td>1211-1245</td>
<td>æ·»åŠ æµåŠ¨æ€§</td>
</tr>
<tr>
<td><code>_calculateStakeReward</code></td>
<td>StakingBase</td>
<td>1167-1196</td>
<td>è®¡ç®—å¤åˆ©</td>
</tr>
<tr>
<td><code>_distributeFriendReward</code></td>
<td>StakingBase</td>
<td>999-1012</td>
<td>åˆ†é…ç›´æ¨å¥–åŠ±</td>
</tr>
<tr>
<td><code>_distributeTeamReward</code></td>
<td>StakingBase</td>
<td>1014-1078</td>
<td>åˆ†é…å›¢é˜Ÿå¥–åŠ±</td>
</tr>
</tbody>
</table>
<hr>
<p><strong>ç”Ÿæˆæ—¶é—´</strong>: 2025-10-13<br>
<strong>åˆ†æç‰ˆæœ¬</strong>: SYI v1.0 (å·²ç§»é™¤ LP è´¨æŠ¼åŠŸèƒ½)<br>
<strong>åˆ†æäºº</strong>: Claude Code</p>

      </div>
      
      
    
    
    <script type="module">
// TODO: If ZenUML gets integrated into mermaid in the future,
//      we can remove the following lines.


var MERMAID_CONFIG = ({"startOnLoad":false});
if (typeof MERMAID_CONFIG !== 'undefined') {
  MERMAID_CONFIG.startOnLoad = false
  MERMAID_CONFIG.cloneCssStyles = false
  MERMAID_CONFIG.theme = "default"
}

mermaid.initialize(MERMAID_CONFIG || {})
if (typeof(window['Reveal']) !== 'undefined') {
  function mermaidRevealHelper(event) {
    var currentSlide = event.currentSlide
    var diagrams = currentSlide.querySelectorAll('.mermaid')
    for (var i = 0; i < diagrams.length; i++) {
      var diagram = diagrams[i]
      if (!diagram.hasAttribute('data-processed')) {
        mermaid.init(null, diagram, ()=> {
          Reveal.slide(event.indexh, event.indexv)
        })
      }
    }
  }
  Reveal.addEventListener('slidetransitionend', mermaidRevealHelper)
  Reveal.addEventListener('ready', mermaidRevealHelper)
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
} else {
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
}
</script>
    
    
    
  
    </body></html>